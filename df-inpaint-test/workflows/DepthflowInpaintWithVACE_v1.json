{
  "id": "ee3fc941-e277-40d9-ac33-052c01a7d06d",
  "revision": 0,
  "last_node_id": 191,
  "last_link_id": 325,
  "nodes": [
    {
      "id": 11,
      "type": "CLIPTextEncode",
      "widgets_values": [
        "\u8fc7\u66dd\uff0c\u9759\u6001\uff0c\u7ec6\u8282\u6a21\u7cca\u4e0d\u6e05\uff0c\u5b57\u5e55\uff0c\u98ce\u683c\uff0c\u4f5c\u54c1\uff0c\u753b\u4f5c\uff0c\u753b\u9762\uff0c\u9759\u6b62\uff0c\u6574\u4f53\u53d1\u7070\uff0c\u6700\u5dee\u8d28\u91cf\uff0c\u4f4e\u8d28\u91cf\uff0cJPEG\u538b\u7f29\u6b8b\u7559\uff0c\u4e11\u964b\u7684\uff0c\u6b8b\u7f3a\u7684\uff0c\u591a\u4f59\u7684\u624b\u6307\uff0c\u753b\u5f97\u4e0d\u597d\u7684\u624b\u90e8\uff0c\u753b\u5f97\u4e0d\u597d\u7684\u8138\u90e8\uff0c\u7578\u5f62\u7684\uff0c\u6bc1\u5bb9\u7684\uff0c\u5f62\u6001\u7578\u5f62\u7684\u80a2\u4f53\uff0c\u624b\u6307\u878d\u5408\uff0c\u9759\u6b62\u4e0d\u52a8\u7684\u753b\u9762\uff0c\u6742\u4e71\u7684\u80cc\u666f\uff0c\u4e09\u6761\u817f\uff0c\u80cc\u666f\u4eba\u5f88\u591a\uff0c\u5012\u7740\u8d70,\u8fc7\u66dd\uff0c"
      ],
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 289,
          "localized_name": "clip",
          "slot_index": 0
        },
        {
          "name": "text",
          "type": "STRING",
          "localized_name": "text",
          "widget": {
            "name": "text"
          },
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            22
          ],
          "localized_name": "CONDITIONING",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode",
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "widget_ue_connectable": {}
      },
      "flags": {},
      "pos": [
        1423.15869140625,
        532.5460205078125
      ],
      "size": [
        425.27801513671875,
        180.6060791015625
      ],
      "order": 28,
      "mode": 0,
      "title": "CLIP Text Encode (Negative Prompt)",
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 12,
      "type": "MarkdownNote",
      "widgets_values": [
        "| Model                                                         | 480P | 720P |\n| ------------------------------------------------------------ | ---- | ---- |\n| [VACE-1.3B](https://huggingface.co/Wan-AI/Wan2.1-VACE-1.3B) | \u2705   | \u274c   |\n| [VACE-14B](https://huggingface.co/Wan-AI/Wan2.1-VACE-14B)   | \u2705   | \u2705   |"
      ],
      "inputs": [],
      "outputs": [],
      "properties": {},
      "flags": {},
      "pos": [
        1923.15869140625,
        -17.453704833984375
      ],
      "size": [
        310.0,
        110.0
      ],
      "order": 0,
      "mode": 0,
      "title": "About Video Size",
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 58,
      "type": "BasicMath",
      "widgets_values": [
        "*"
      ],
      "inputs": [
        {
          "name": "a",
          "type": "INT,FLOAT",
          "link": 56,
          "localized_name": "a",
          "slot_index": 0
        },
        {
          "name": "b",
          "type": "INT,FLOAT",
          "link": 57,
          "localized_name": "b",
          "slot_index": 1
        },
        {
          "name": "operation",
          "type": "COMBO",
          "localized_name": "operation",
          "widget": {
            "name": "operation"
          },
          "slot_index": 2
        }
      ],
      "outputs": [
        {
          "name": "NUMBER",
          "type": "INT,FLOAT",
          "links": [
            209
          ],
          "localized_name": "NUMBER",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "BasicMath",
        "cnr_id": "comfyui-basic-math",
        "ver": "a79135d3b1c8089f0a2b8927f1cb98293a9fbabe"
      },
      "flags": {
        "collapsed": true
      },
      "pos": [
        -2450.0,
        40.0
      ],
      "size": [
        270.81402587890625,
        78.0
      ],
      "order": 23,
      "mode": 0,
      "title": "Multiply FPS w/ Length"
    },
    {
      "id": 44,
      "type": "PreviewImage",
      "widgets_values": [],
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 43,
          "localized_name": "images",
          "slot_index": 0
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage",
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "ttNbgOverride": {
          "color": "#2a363b",
          "bgcolor": "#3f5159",
          "groupcolor": "#3f789e"
        }
      },
      "flags": {},
      "pos": [
        -2130.0,
        430.0
      ],
      "size": [
        283.83148193359375,
        248.58944702148438
      ],
      "order": 45,
      "mode": 0,
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 43,
      "type": "DownloadAndLoadDepthAnythingV2Model",
      "widgets_values": [
        "depth_anything_v2_vitl_fp32.safetensors"
      ],
      "inputs": [
        {
          "name": "model",
          "type": "COMBO",
          "localized_name": "model",
          "widget": {
            "name": "model"
          },
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "da_v2_model",
          "type": "DAMODEL",
          "links": [
            48
          ],
          "localized_name": "da_v2_model",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "DownloadAndLoadDepthAnythingV2Model",
        "cnr_id": "comfyui-depthanythingv2",
        "aux_id": "kijai/ComfyUI-DepthAnythingV2",
        "ver": "d505cbca99803fc63327b8305618a23e59a18b42",
        "ttNbgOverride": {
          "color": "#2a363b",
          "bgcolor": "#3f5159",
          "groupcolor": "#3f789e"
        }
      },
      "flags": {},
      "pos": [
        -2480.0,
        450.0
      ],
      "size": [
        305.312109375,
        82.0
      ],
      "order": 1,
      "mode": 0,
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 51,
      "type": "DepthAnything_V2",
      "widgets_values": [],
      "inputs": [
        {
          "name": "da_model",
          "type": "DAMODEL",
          "link": 48,
          "localized_name": "da_model",
          "slot_index": 0
        },
        {
          "name": "images",
          "type": "IMAGE",
          "link": 171,
          "localized_name": "images",
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            43,
            59,
            68,
            291
          ],
          "localized_name": "image",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "DepthAnything_V2",
        "cnr_id": "comfyui-depthanythingv2",
        "aux_id": "kijai/ComfyUI-DepthAnythingV2",
        "ver": "d505cbca99803fc63327b8305618a23e59a18b42",
        "ttNbgOverride": {
          "color": "#2a363b",
          "bgcolor": "#3f5159",
          "groupcolor": "#3f789e"
        }
      },
      "flags": {},
      "pos": [
        -2440.0,
        600.0
      ],
      "size": [
        214.20001220703125,
        46.0
      ],
      "order": 41,
      "mode": 0,
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 99,
      "type": "DepthflowEffectInpaint",
      "widgets_values": [
        1,
        0,
        "inpaint_limit",
        "relative",
        true,
        true,
        5,
        "#FFFFFF"
      ],
      "inputs": [
        {
          "name": "feature",
          "type": "FEATURE",
          "localized_name": "feature",
          "shape": 7,
          "slot_index": 0
        },
        {
          "name": "effects",
          "type": "DEPTHFLOW_EFFECTS",
          "localized_name": "effects",
          "shape": 7,
          "slot_index": 1
        },
        {
          "name": "strength",
          "type": "FLOAT",
          "localized_name": "strength",
          "widget": {
            "name": "strength"
          },
          "slot_index": 2
        },
        {
          "name": "feature_threshold",
          "type": "FLOAT",
          "localized_name": "feature_threshold",
          "widget": {
            "name": "feature_threshold"
          },
          "slot_index": 3
        },
        {
          "name": "feature_param",
          "type": "COMBO",
          "localized_name": "feature_param",
          "widget": {
            "name": "feature_param"
          },
          "slot_index": 4
        },
        {
          "name": "feature_mode",
          "type": "COMBO",
          "localized_name": "feature_mode",
          "widget": {
            "name": "feature_mode"
          },
          "slot_index": 5
        },
        {
          "name": "inpaint_enable",
          "type": "BOOLEAN",
          "localized_name": "inpaint_enable",
          "widget": {
            "name": "inpaint_enable"
          },
          "slot_index": 6
        },
        {
          "name": "inpaint_black",
          "type": "BOOLEAN",
          "localized_name": "inpaint_black",
          "widget": {
            "name": "inpaint_black"
          },
          "slot_index": 7
        },
        {
          "name": "inpaint_limit",
          "type": "FLOAT",
          "localized_name": "inpaint_limit",
          "widget": {
            "name": "inpaint_limit"
          },
          "slot_index": 8
        },
        {
          "name": "inpaint_color",
          "type": "STRING",
          "localized_name": "inpaint_color",
          "widget": {
            "name": "inpaint_color"
          },
          "slot_index": 9
        }
      ],
      "outputs": [
        {
          "name": "DEPTHFLOW_EFFECTS",
          "type": "DEPTHFLOW_EFFECTS",
          "links": [
            136
          ],
          "localized_name": "DEPTHFLOW_EFFECTS",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "DepthflowEffectInpaint",
        "cnr_id": "comfyui-depthflow-nodes",
        "ver": "92ca9ed3181a1a651ac53950c0b2e9ceed695ff4"
      },
      "flags": {},
      "pos": [
        -1580.0,
        790.0
      ],
      "size": [
        279.03515625,
        246.0
      ],
      "order": 2,
      "mode": 0
    },
    {
      "id": 100,
      "type": "DepthflowEffectInpaint",
      "widgets_values": [
        1,
        0,
        "inpaint_limit",
        "relative",
        true,
        false,
        5,
        "#808080"
      ],
      "inputs": [
        {
          "name": "feature",
          "type": "FEATURE",
          "localized_name": "feature",
          "shape": 7,
          "slot_index": 0
        },
        {
          "name": "effects",
          "type": "DEPTHFLOW_EFFECTS",
          "localized_name": "effects",
          "shape": 7,
          "slot_index": 1
        },
        {
          "name": "strength",
          "type": "FLOAT",
          "localized_name": "strength",
          "widget": {
            "name": "strength"
          },
          "slot_index": 2
        },
        {
          "name": "feature_threshold",
          "type": "FLOAT",
          "localized_name": "feature_threshold",
          "widget": {
            "name": "feature_threshold"
          },
          "slot_index": 3
        },
        {
          "name": "feature_param",
          "type": "COMBO",
          "localized_name": "feature_param",
          "widget": {
            "name": "feature_param"
          },
          "slot_index": 4
        },
        {
          "name": "feature_mode",
          "type": "COMBO",
          "localized_name": "feature_mode",
          "widget": {
            "name": "feature_mode"
          },
          "slot_index": 5
        },
        {
          "name": "inpaint_enable",
          "type": "BOOLEAN",
          "localized_name": "inpaint_enable",
          "widget": {
            "name": "inpaint_enable"
          },
          "slot_index": 6
        },
        {
          "name": "inpaint_black",
          "type": "BOOLEAN",
          "localized_name": "inpaint_black",
          "widget": {
            "name": "inpaint_black"
          },
          "slot_index": 7
        },
        {
          "name": "inpaint_limit",
          "type": "FLOAT",
          "localized_name": "inpaint_limit",
          "widget": {
            "name": "inpaint_limit"
          },
          "slot_index": 8
        },
        {
          "name": "inpaint_color",
          "type": "STRING",
          "localized_name": "inpaint_color",
          "widget": {
            "name": "inpaint_color"
          },
          "slot_index": 9
        }
      ],
      "outputs": [
        {
          "name": "DEPTHFLOW_EFFECTS",
          "type": "DEPTHFLOW_EFFECTS",
          "links": [
            137
          ],
          "localized_name": "DEPTHFLOW_EFFECTS",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "DepthflowEffectInpaint",
        "cnr_id": "comfyui-depthflow-nodes",
        "ver": "92ca9ed3181a1a651ac53950c0b2e9ceed695ff4"
      },
      "flags": {},
      "pos": [
        -1570.0,
        50.0
      ],
      "size": [
        279.03515625,
        246.0
      ],
      "order": 3,
      "mode": 0
    },
    {
      "id": 123,
      "type": "DepthflowMotionCosine",
      "widgets_values": [
        1,
        0,
        "amplitude",
        "relative",
        "OffsetY",
        0.4,
        1,
        0,
        false,
        0,
        false
      ],
      "inputs": [
        {
          "name": "feature",
          "type": "FEATURE",
          "localized_name": "feature",
          "shape": 7,
          "slot_index": 0
        },
        {
          "name": "motion",
          "type": "DEPTHFLOW_MOTION",
          "link": 185,
          "localized_name": "motion",
          "shape": 7,
          "slot_index": 1
        },
        {
          "name": "strength",
          "type": "FLOAT",
          "localized_name": "strength",
          "widget": {
            "name": "strength"
          },
          "slot_index": 2
        },
        {
          "name": "feature_threshold",
          "type": "FLOAT",
          "localized_name": "feature_threshold",
          "widget": {
            "name": "feature_threshold"
          },
          "slot_index": 3
        },
        {
          "name": "feature_param",
          "type": "COMBO",
          "localized_name": "feature_param",
          "widget": {
            "name": "feature_param"
          },
          "slot_index": 4
        },
        {
          "name": "feature_mode",
          "type": "COMBO",
          "localized_name": "feature_mode",
          "widget": {
            "name": "feature_mode"
          },
          "slot_index": 5
        },
        {
          "name": "target",
          "type": "COMBO",
          "localized_name": "target",
          "widget": {
            "name": "target"
          },
          "slot_index": 6
        },
        {
          "name": "amplitude",
          "type": "FLOAT",
          "localized_name": "amplitude",
          "widget": {
            "name": "amplitude"
          },
          "slot_index": 7
        },
        {
          "name": "cycles",
          "type": "FLOAT",
          "localized_name": "cycles",
          "widget": {
            "name": "cycles"
          },
          "slot_index": 8
        },
        {
          "name": "phase",
          "type": "FLOAT",
          "localized_name": "phase",
          "widget": {
            "name": "phase"
          },
          "slot_index": 9
        },
        {
          "name": "reverse",
          "type": "BOOLEAN",
          "localized_name": "reverse",
          "widget": {
            "name": "reverse"
          },
          "slot_index": 10
        },
        {
          "name": "bias",
          "type": "FLOAT",
          "localized_name": "bias",
          "widget": {
            "name": "bias"
          },
          "slot_index": 11
        },
        {
          "name": "cumulative",
          "type": "BOOLEAN",
          "localized_name": "cumulative",
          "widget": {
            "name": "cumulative"
          },
          "slot_index": 12
        }
      ],
      "outputs": [
        {
          "name": "DEPTHFLOW_MOTION",
          "type": "DEPTHFLOW_MOTION",
          "links": [
            186
          ],
          "localized_name": "DEPTHFLOW_MOTION",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "DepthflowMotionCosine",
        "cnr_id": "comfyui-depthflow-nodes",
        "ver": "b35f11065e01b4b4b637a11b28c77541b948aee0",
        "ttNbgOverride": {
          "color": "#2a363b",
          "bgcolor": "#3f5159",
          "groupcolor": "#3f789e"
        }
      },
      "flags": {},
      "pos": [
        -2120.0,
        780.0
      ],
      "size": [
        303.068115234375,
        318.378173828125
      ],
      "order": 30,
      "mode": 0,
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 122,
      "type": "DepthflowMotionSine",
      "widgets_values": [
        1,
        0,
        "amplitude",
        "relative",
        "OffsetX",
        0.4,
        1,
        0,
        false,
        0,
        false
      ],
      "inputs": [
        {
          "name": "feature",
          "type": "FEATURE",
          "localized_name": "feature",
          "shape": 7,
          "slot_index": 0
        },
        {
          "name": "motion",
          "type": "DEPTHFLOW_MOTION",
          "link": 184,
          "localized_name": "motion",
          "shape": 7,
          "slot_index": 1
        },
        {
          "name": "strength",
          "type": "FLOAT",
          "localized_name": "strength",
          "widget": {
            "name": "strength"
          },
          "slot_index": 2
        },
        {
          "name": "feature_threshold",
          "type": "FLOAT",
          "localized_name": "feature_threshold",
          "widget": {
            "name": "feature_threshold"
          },
          "slot_index": 3
        },
        {
          "name": "feature_param",
          "type": "COMBO",
          "localized_name": "feature_param",
          "widget": {
            "name": "feature_param"
          },
          "slot_index": 4
        },
        {
          "name": "feature_mode",
          "type": "COMBO",
          "localized_name": "feature_mode",
          "widget": {
            "name": "feature_mode"
          },
          "slot_index": 5
        },
        {
          "name": "target",
          "type": "COMBO",
          "localized_name": "target",
          "widget": {
            "name": "target"
          },
          "slot_index": 6
        },
        {
          "name": "amplitude",
          "type": "FLOAT",
          "localized_name": "amplitude",
          "widget": {
            "name": "amplitude"
          },
          "slot_index": 7
        },
        {
          "name": "cycles",
          "type": "FLOAT",
          "localized_name": "cycles",
          "widget": {
            "name": "cycles"
          },
          "slot_index": 8
        },
        {
          "name": "phase",
          "type": "FLOAT",
          "localized_name": "phase",
          "widget": {
            "name": "phase"
          },
          "slot_index": 9
        },
        {
          "name": "reverse",
          "type": "BOOLEAN",
          "localized_name": "reverse",
          "widget": {
            "name": "reverse"
          },
          "slot_index": 10
        },
        {
          "name": "bias",
          "type": "FLOAT",
          "localized_name": "bias",
          "widget": {
            "name": "bias"
          },
          "slot_index": 11
        },
        {
          "name": "cumulative",
          "type": "BOOLEAN",
          "localized_name": "cumulative",
          "widget": {
            "name": "cumulative"
          },
          "slot_index": 12
        }
      ],
      "outputs": [
        {
          "name": "DEPTHFLOW_MOTION",
          "type": "DEPTHFLOW_MOTION",
          "links": [
            185
          ],
          "localized_name": "DEPTHFLOW_MOTION",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "DepthflowMotionSine",
        "cnr_id": "comfyui-depthflow-nodes",
        "ver": "b35f11065e01b4b4b637a11b28c77541b948aee0",
        "ttNbgOverride": {
          "color": "#2a363b",
          "bgcolor": "#3f5159",
          "groupcolor": "#3f789e"
        }
      },
      "flags": {},
      "pos": [
        -2450.0,
        780.0
      ],
      "size": [
        315.0,
        318.0
      ],
      "order": 20,
      "mode": 0,
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 93,
      "type": "Reroute",
      "widgets_values": [],
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 186,
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "DEPTHFLOW_MOTION",
          "links": [
            126,
            127,
            292
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      },
      "flags": {},
      "pos": [
        -1800.0,
        790.0
      ],
      "size": [
        75.0,
        26.0
      ],
      "order": 38,
      "mode": 0
    },
    {
      "id": 121,
      "type": "DepthflowMotionPresetOrbital",
      "widgets_values": [
        1,
        0,
        "intensity",
        "relative",
        2.0000000000000004,
        false,
        0.5
      ],
      "inputs": [
        {
          "name": "feature",
          "type": "FEATURE",
          "localized_name": "feature",
          "shape": 7,
          "slot_index": 0
        },
        {
          "name": "strength",
          "type": "FLOAT",
          "localized_name": "strength",
          "widget": {
            "name": "strength"
          },
          "slot_index": 1
        },
        {
          "name": "feature_threshold",
          "type": "FLOAT",
          "localized_name": "feature_threshold",
          "widget": {
            "name": "feature_threshold"
          },
          "slot_index": 2
        },
        {
          "name": "feature_param",
          "type": "COMBO",
          "localized_name": "feature_param",
          "widget": {
            "name": "feature_param"
          },
          "slot_index": 3
        },
        {
          "name": "feature_mode",
          "type": "COMBO",
          "localized_name": "feature_mode",
          "widget": {
            "name": "feature_mode"
          },
          "slot_index": 4
        },
        {
          "name": "intensity",
          "type": "FLOAT",
          "localized_name": "intensity",
          "widget": {
            "name": "intensity"
          },
          "slot_index": 5
        },
        {
          "name": "reverse",
          "type": "BOOLEAN",
          "localized_name": "reverse",
          "widget": {
            "name": "reverse"
          },
          "slot_index": 6
        },
        {
          "name": "depth",
          "type": "FLOAT",
          "localized_name": "depth",
          "widget": {
            "name": "depth"
          },
          "slot_index": 7
        }
      ],
      "outputs": [
        {
          "name": "DEPTHFLOW_MOTION",
          "type": "DEPTHFLOW_MOTION",
          "links": [
            184
          ],
          "localized_name": "DEPTHFLOW_MOTION",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "DepthflowMotionPresetOrbital",
        "cnr_id": "comfyui-depthflow-nodes",
        "ver": "b35f11065e01b4b4b637a11b28c77541b948aee0",
        "ttNbgOverride": {
          "color": "#2a363b",
          "bgcolor": "#3f5159",
          "groupcolor": "#3f789e"
        }
      },
      "flags": {},
      "pos": [
        -2780.0,
        790.0
      ],
      "size": [
        308.472900390625,
        202.0
      ],
      "order": 4,
      "mode": 0,
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 2,
      "type": "VAEDecode",
      "widgets_values": [],
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 3,
          "localized_name": "samples",
          "slot_index": 0
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 4,
          "localized_name": "vae",
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            81
          ],
          "localized_name": "IMAGE",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode",
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "widget_ue_connectable": {}
      },
      "flags": {
        "collapsed": false
      },
      "pos": [
        2273.159423828125,
        642.5457763671875
      ],
      "size": [
        315.0,
        46.0
      ],
      "order": 61,
      "mode": 0
    },
    {
      "id": 1,
      "type": "TrimVideoLatent",
      "widgets_values": [
        0
      ],
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 1,
          "localized_name": "samples",
          "slot_index": 0
        },
        {
          "name": "trim_amount",
          "type": "INT",
          "link": 2,
          "localized_name": "trim_amount",
          "widget": {
            "name": "trim_amount"
          },
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            3
          ],
          "localized_name": "LATENT",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "TrimVideoLatent",
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "widget_ue_connectable": {
          "trim_amount": true
        }
      },
      "flags": {
        "collapsed": false
      },
      "pos": [
        2276.79931640625,
        505.07611083984375
      ],
      "size": [
        315.0,
        60.0
      ],
      "order": 60,
      "mode": 0
    },
    {
      "id": 89,
      "type": "PreviewAny",
      "widgets_values": [],
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 120,
          "localized_name": "source",
          "slot_index": 0
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewAny",
        "cnr_id": "comfy-core",
        "ver": "0.3.42"
      },
      "flags": {},
      "pos": [
        -2460.0,
        220.0
      ],
      "size": [
        210.0,
        88.0
      ],
      "order": 40,
      "mode": 0
    },
    {
      "id": 136,
      "type": "Reroute",
      "widgets_values": [],
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 242,
          "widget": {
            "name": "value"
          },
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "FLOAT",
          "links": [
            261
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      },
      "flags": {},
      "pos": [
        2458.568359375,
        -220.15789794921875
      ],
      "size": [
        75.0,
        26.0
      ],
      "order": 31,
      "mode": 0
    },
    {
      "id": 47,
      "type": "ToInt",
      "widgets_values": [
        "floor"
      ],
      "inputs": [
        {
          "name": "any",
          "type": "*",
          "link": 209,
          "localized_name": "any",
          "slot_index": 0
        },
        {
          "name": "round_method",
          "type": "COMBO",
          "localized_name": "round_method",
          "widget": {
            "name": "round_method"
          },
          "shape": 7,
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            62,
            71,
            104,
            120,
            296
          ],
          "localized_name": "INT",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ToInt",
        "cnr_id": "comfyui-basic-math",
        "ver": "a79135d3b1c8089f0a2b8927f1cb98293a9fbabe"
      },
      "flags": {
        "collapsed": false
      },
      "pos": [
        -2470.0,
        100.0
      ],
      "size": [
        210.0,
        58.0
      ],
      "order": 32,
      "mode": 0,
      "title": "Number of Frames"
    },
    {
      "id": 3,
      "type": "ModelSamplingSD3",
      "widgets_values": [
        5.000000000000001
      ],
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 5,
          "localized_name": "model",
          "slot_index": 0
        },
        {
          "name": "shift",
          "type": "FLOAT",
          "localized_name": "shift",
          "widget": {
            "name": "shift"
          },
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [],
          "localized_name": "MODEL",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ModelSamplingSD3",
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "widget_ue_connectable": {}
      },
      "flags": {},
      "pos": [
        1903.15869140625,
        192.54623413085938
      ],
      "size": [
        315.0,
        58.0
      ],
      "order": 21,
      "mode": 0
    },
    {
      "id": 42,
      "type": "CLIPTextEncode",
      "widgets_values": [
        "Sharp. highest quality. masterpiece. high definition. 4k. hdr"
      ],
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 288,
          "localized_name": "clip",
          "slot_index": 0
        },
        {
          "name": "text",
          "type": "STRING",
          "localized_name": "text",
          "widget": {
            "name": "text"
          },
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            21
          ],
          "localized_name": "CONDITIONING",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode",
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "widget_ue_connectable": {}
      },
      "flags": {},
      "pos": [
        1423.15869140625,
        202.54623413085938
      ],
      "size": [
        420.0,
        280.0
      ],
      "order": 27,
      "mode": 0,
      "title": "CLIP Text Encode (Positive Prompt)",
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 27,
      "type": "VAELoader",
      "widgets_values": [
        "wan_2.1_vae.safetensors"
      ],
      "inputs": [
        {
          "name": "vae_name",
          "type": "COMBO",
          "localized_name": "vae_name",
          "widget": {
            "name": "vae_name"
          },
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            4,
            23
          ],
          "localized_name": "VAE",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAELoader",
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "models": [
          {
            "name": "wan_2.1_vae.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/vae/wan_2.1_vae.safetensors",
            "directory": "vae"
          }
        ],
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "widget_ue_connectable": {}
      },
      "flags": {},
      "pos": [
        1004.6293334960938,
        659.8032836914062
      ],
      "size": [
        360.0,
        60.0
      ],
      "order": 5,
      "mode": 0,
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 23,
      "type": "UNETLoader",
      "widgets_values": [
        "WanVideo/wan2.1_vace_1.3B_fp16.safetensors",
        "default"
      ],
      "inputs": [
        {
          "name": "unet_name",
          "type": "COMBO",
          "localized_name": "unet_name",
          "widget": {
            "name": "unet_name"
          },
          "slot_index": 0
        },
        {
          "name": "weight_dtype",
          "type": "COMBO",
          "localized_name": "weight_dtype",
          "widget": {
            "name": "weight_dtype"
          },
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            5,
            14
          ],
          "localized_name": "MODEL",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "UNETLoader",
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "models": [
          {
            "name": "wan2.1_vace_1.3B_fp16.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/diffusion_models/wan2.1_vace_1.3B_fp16.safetensors",
            "directory": "diffusion_models"
          }
        ]
      },
      "flags": {},
      "pos": [
        1001.3868408203125,
        218.230712890625
      ],
      "size": [
        350.0,
        82.0
      ],
      "order": 6,
      "mode": 0,
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 46,
      "type": "IntegerInput",
      "widgets_values": [
        30
      ],
      "inputs": [
        {
          "name": "value",
          "type": "INT",
          "localized_name": "value",
          "widget": {
            "name": "value"
          },
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            47,
            57
          ],
          "localized_name": "INT",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "IntegerInput",
        "cnr_id": "comfyui-basic-math",
        "ver": "a79135d3b1c8089f0a2b8927f1cb98293a9fbabe"
      },
      "flags": {},
      "pos": [
        -2880.0,
        -240.0
      ],
      "size": [
        270.0,
        58.0
      ],
      "order": 7,
      "mode": 0,
      "title": "Output FPS",
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 37,
      "type": "KSampler",
      "widgets_values": [
        584027519362138,
        "fixed",
        8,
        1,
        "uni_pc",
        "beta",
        1
      ],
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 153,
          "localized_name": "model",
          "slot_index": 0
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 37,
          "localized_name": "positive",
          "slot_index": 1
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 38,
          "localized_name": "negative",
          "slot_index": 2
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 39,
          "localized_name": "latent_image",
          "slot_index": 3
        },
        {
          "name": "seed",
          "type": "INT",
          "localized_name": "seed",
          "widget": {
            "name": "seed"
          },
          "slot_index": 4
        },
        {
          "name": "steps",
          "type": "INT",
          "localized_name": "steps",
          "widget": {
            "name": "steps"
          },
          "slot_index": 5
        },
        {
          "name": "cfg",
          "type": "FLOAT",
          "localized_name": "cfg",
          "widget": {
            "name": "cfg"
          },
          "slot_index": 6
        },
        {
          "name": "sampler_name",
          "type": "COMBO",
          "localized_name": "sampler_name",
          "widget": {
            "name": "sampler_name"
          },
          "slot_index": 7
        },
        {
          "name": "scheduler",
          "type": "COMBO",
          "localized_name": "scheduler",
          "widget": {
            "name": "scheduler"
          },
          "slot_index": 8
        },
        {
          "name": "denoise",
          "type": "FLOAT",
          "localized_name": "denoise",
          "widget": {
            "name": "denoise"
          },
          "slot_index": 9
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            1
          ],
          "localized_name": "LATENT",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler",
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "widget_ue_connectable": {}
      },
      "flags": {},
      "pos": [
        2273.159423828125,
        192.54623413085938
      ],
      "size": [
        315.0,
        262.0
      ],
      "order": 59,
      "mode": 0
    },
    {
      "id": 66,
      "type": "Depthflow",
      "widgets_values": [
        1.0000000000000002,
        100,
        30,
        30,
        100,
        4,
        0,
        "mirror",
        2
      ],
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 173,
          "localized_name": "image",
          "slot_index": 0
        },
        {
          "name": "depth_map",
          "type": "IMAGE",
          "link": 68,
          "localized_name": "depth_map",
          "slot_index": 1
        },
        {
          "name": "motion",
          "type": "DEPTHFLOW_MOTION",
          "link": 127,
          "localized_name": "motion",
          "slot_index": 2
        },
        {
          "name": "effects",
          "type": "DEPTHFLOW_EFFECTS",
          "link": 136,
          "localized_name": "effects",
          "shape": 7,
          "slot_index": 3
        },
        {
          "name": "animation_speed",
          "type": "FLOAT",
          "localized_name": "animation_speed",
          "widget": {
            "name": "animation_speed"
          },
          "slot_index": 4
        },
        {
          "name": "input_fps",
          "type": "FLOAT",
          "link": 208,
          "localized_name": "input_fps",
          "widget": {
            "name": "input_fps"
          },
          "slot_index": 5
        },
        {
          "name": "output_fps",
          "type": "FLOAT",
          "link": 70,
          "localized_name": "output_fps",
          "widget": {
            "name": "output_fps"
          },
          "slot_index": 6
        },
        {
          "name": "num_frames",
          "type": "INT",
          "link": 71,
          "localized_name": "num_frames",
          "widget": {
            "name": "num_frames"
          },
          "slot_index": 7
        },
        {
          "name": "quality",
          "type": "INT",
          "localized_name": "quality",
          "widget": {
            "name": "quality"
          },
          "slot_index": 8
        },
        {
          "name": "ssaa",
          "type": "FLOAT",
          "localized_name": "ssaa",
          "widget": {
            "name": "ssaa"
          },
          "slot_index": 9
        },
        {
          "name": "invert",
          "type": "FLOAT",
          "localized_name": "invert",
          "widget": {
            "name": "invert"
          },
          "slot_index": 10
        },
        {
          "name": "tiling_mode",
          "type": "COMBO",
          "localized_name": "tiling_mode",
          "widget": {
            "name": "tiling_mode"
          },
          "slot_index": 11
        },
        {
          "name": "edge_fix",
          "type": "INT",
          "localized_name": "edge_fix",
          "widget": {
            "name": "edge_fix"
          },
          "slot_index": 12
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            74,
            237
          ],
          "localized_name": "IMAGE",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Depthflow",
        "cnr_id": "comfyui-depthflow-nodes",
        "ver": "b35f11065e01b4b4b637a11b28c77541b948aee0"
      },
      "flags": {},
      "pos": [
        -1600.0,
        420.0
      ],
      "size": [
        315.0,
        310.0
      ],
      "order": 47,
      "mode": 0,
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 60,
      "type": "Depthflow",
      "widgets_values": [
        1.0000000000000002,
        30,
        30,
        30,
        100,
        4,
        0,
        "mirror",
        2
      ],
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 172,
          "localized_name": "image",
          "slot_index": 0
        },
        {
          "name": "depth_map",
          "type": "IMAGE",
          "link": 59,
          "localized_name": "depth_map",
          "slot_index": 1
        },
        {
          "name": "motion",
          "type": "DEPTHFLOW_MOTION",
          "link": 126,
          "localized_name": "motion",
          "slot_index": 2
        },
        {
          "name": "effects",
          "type": "DEPTHFLOW_EFFECTS",
          "link": 137,
          "localized_name": "effects",
          "shape": 7,
          "slot_index": 3
        },
        {
          "name": "animation_speed",
          "type": "FLOAT",
          "localized_name": "animation_speed",
          "widget": {
            "name": "animation_speed"
          },
          "slot_index": 4
        },
        {
          "name": "input_fps",
          "type": "FLOAT",
          "link": 207,
          "localized_name": "input_fps",
          "widget": {
            "name": "input_fps"
          },
          "slot_index": 5
        },
        {
          "name": "output_fps",
          "type": "FLOAT",
          "link": 61,
          "localized_name": "output_fps",
          "widget": {
            "name": "output_fps"
          },
          "slot_index": 6
        },
        {
          "name": "num_frames",
          "type": "INT",
          "link": 62,
          "localized_name": "num_frames",
          "widget": {
            "name": "num_frames"
          },
          "slot_index": 7
        },
        {
          "name": "quality",
          "type": "INT",
          "localized_name": "quality",
          "widget": {
            "name": "quality"
          },
          "slot_index": 8
        },
        {
          "name": "ssaa",
          "type": "FLOAT",
          "localized_name": "ssaa",
          "widget": {
            "name": "ssaa"
          },
          "slot_index": 9
        },
        {
          "name": "invert",
          "type": "FLOAT",
          "localized_name": "invert",
          "widget": {
            "name": "invert"
          },
          "slot_index": 10
        },
        {
          "name": "tiling_mode",
          "type": "COMBO",
          "localized_name": "tiling_mode",
          "widget": {
            "name": "tiling_mode"
          },
          "slot_index": 11
        },
        {
          "name": "edge_fix",
          "type": "INT",
          "localized_name": "edge_fix",
          "widget": {
            "name": "edge_fix"
          },
          "slot_index": 12
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            65,
            82
          ],
          "localized_name": "IMAGE",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Depthflow",
        "cnr_id": "comfyui-depthflow-nodes",
        "ver": "b35f11065e01b4b4b637a11b28c77541b948aee0"
      },
      "flags": {},
      "pos": [
        -1590.0,
        -320.0
      ],
      "size": [
        315.0,
        310.0
      ],
      "order": 46,
      "mode": 0,
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 49,
      "type": "ToFloat",
      "widgets_values": [],
      "inputs": [
        {
          "name": "any",
          "type": "*",
          "link": 47,
          "localized_name": "any",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": [
            61,
            66,
            70,
            73,
            207,
            208,
            242,
            294,
            295,
            298
          ],
          "localized_name": "FLOAT",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ToFloat",
        "cnr_id": "comfyui-basic-math",
        "ver": "a79135d3b1c8089f0a2b8927f1cb98293a9fbabe"
      },
      "flags": {},
      "pos": [
        -1960.0,
        -240.0
      ],
      "size": [
        140.0,
        26.0
      ],
      "order": 22,
      "mode": 0,
      "title": "Output FPS"
    },
    {
      "id": 166,
      "type": "PreviewAny",
      "widgets_values": [],
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 286,
          "localized_name": "source",
          "slot_index": 0
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewAny",
        "cnr_id": "comfy-core",
        "ver": "0.3.42"
      },
      "flags": {},
      "pos": [
        -1940.0,
        230.0
      ],
      "size": [
        210.0,
        88.0
      ],
      "order": 36,
      "mode": 0,
      "title": "Height"
    },
    {
      "id": 116,
      "type": "Reroute",
      "widgets_values": [],
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 228,
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            171,
            172,
            173,
            181,
            290
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      },
      "flags": {},
      "pos": [
        -1810.0,
        30.0
      ],
      "size": [
        75.0,
        26.0
      ],
      "order": 33,
      "mode": 0
    },
    {
      "id": 165,
      "type": "PreviewAny",
      "widgets_values": [],
      "inputs": [
        {
          "name": "source",
          "type": "*",
          "link": 285,
          "localized_name": "source",
          "slot_index": 0
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewAny",
        "cnr_id": "comfy-core",
        "ver": "0.3.42"
      },
      "flags": {},
      "pos": [
        -2160.0,
        230.0
      ],
      "size": [
        210.0,
        88.0
      ],
      "order": 34,
      "mode": 0,
      "title": "Width"
    },
    {
      "id": 169,
      "type": "Depthflow",
      "widgets_values": [
        1.0000000000000002,
        30,
        30,
        30,
        100,
        4,
        0,
        "mirror",
        2
      ],
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 290,
          "localized_name": "image",
          "slot_index": 0
        },
        {
          "name": "depth_map",
          "type": "IMAGE",
          "link": 291,
          "localized_name": "depth_map",
          "slot_index": 1
        },
        {
          "name": "motion",
          "type": "DEPTHFLOW_MOTION",
          "link": 292,
          "localized_name": "motion",
          "slot_index": 2
        },
        {
          "name": "effects",
          "type": "DEPTHFLOW_EFFECTS",
          "localized_name": "effects",
          "shape": 7,
          "slot_index": 3
        },
        {
          "name": "animation_speed",
          "type": "FLOAT",
          "localized_name": "animation_speed",
          "widget": {
            "name": "animation_speed"
          },
          "slot_index": 4
        },
        {
          "name": "input_fps",
          "type": "FLOAT",
          "link": 294,
          "localized_name": "input_fps",
          "widget": {
            "name": "input_fps"
          },
          "slot_index": 5
        },
        {
          "name": "output_fps",
          "type": "FLOAT",
          "link": 295,
          "localized_name": "output_fps",
          "widget": {
            "name": "output_fps"
          },
          "slot_index": 6
        },
        {
          "name": "num_frames",
          "type": "INT",
          "link": 296,
          "localized_name": "num_frames",
          "widget": {
            "name": "num_frames"
          },
          "slot_index": 7
        },
        {
          "name": "quality",
          "type": "INT",
          "localized_name": "quality",
          "widget": {
            "name": "quality"
          },
          "slot_index": 8
        },
        {
          "name": "ssaa",
          "type": "FLOAT",
          "localized_name": "ssaa",
          "widget": {
            "name": "ssaa"
          },
          "slot_index": 9
        },
        {
          "name": "invert",
          "type": "FLOAT",
          "localized_name": "invert",
          "widget": {
            "name": "invert"
          },
          "slot_index": 10
        },
        {
          "name": "tiling_mode",
          "type": "COMBO",
          "localized_name": "tiling_mode",
          "widget": {
            "name": "tiling_mode"
          },
          "slot_index": 11
        },
        {
          "name": "edge_fix",
          "type": "INT",
          "localized_name": "edge_fix",
          "widget": {
            "name": "edge_fix"
          },
          "slot_index": 12
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            297
          ],
          "localized_name": "IMAGE",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Depthflow",
        "cnr_id": "comfyui-depthflow-nodes",
        "ver": "b35f11065e01b4b4b637a11b28c77541b948aee0"
      },
      "flags": {},
      "pos": [
        -1590.0,
        -760.0
      ],
      "size": [
        315.0,
        310.0
      ],
      "order": 48,
      "mode": 0,
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 64,
      "type": "FloatInput",
      "widgets_values": [
        1.5000000000000004
      ],
      "inputs": [
        {
          "name": "value",
          "type": "FLOAT",
          "localized_name": "value",
          "widget": {
            "name": "value"
          },
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": [
            56
          ],
          "localized_name": "FLOAT",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "FloatInput",
        "cnr_id": "comfyui-basic-math",
        "ver": "a79135d3b1c8089f0a2b8927f1cb98293a9fbabe"
      },
      "flags": {},
      "pos": [
        -2490.0,
        -70.0
      ],
      "size": [
        270.0,
        58.0
      ],
      "order": 8,
      "mode": 0,
      "title": "Length of Video (seconds)",
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 13,
      "type": "MarkdownNote",
      "widgets_values": [
        "## Default\n\n- steps:20\n- cfg:6.0\n\n## [For CausVid LoRA](https://www.reddit.com/r/StableDiffusion/comments/1knuafk/causvid_lora_massive_speedup_for_wan21_made_by/)\n\n- steps: 4-8\n- cfg: 1.0\n\n"
      ],
      "inputs": [],
      "outputs": [],
      "properties": {},
      "flags": {},
      "pos": [
        2273.159423828125,
        -67.45370483398438
      ],
      "size": [
        303.90106201171875,
        158.5415802001953
      ],
      "order": 9,
      "mode": 0,
      "title": "KSampler Setting",
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 170,
      "type": "VHS_VideoCombine",
      "widgets_values": {
        "frame_rate": 48,
        "loop_count": 0,
        "filename_prefix": "Depthflow/output",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 11,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": false,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "output_00003.mp4",
            "subfolder": "Depthflow",
            "type": "temp",
            "format": "video/h264-mp4",
            "frame_rate": 30,
            "workflow": "output_00003.png",
            "fullpath": "/home/akatzfey/projects/comfydock/comfydock/.comfydock_workspace/environments/df-inpaint-test/ComfyUI/temp/Depthflow/output_00003.mp4"
          },
          "muted": false
        }
      },
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 297,
          "localized_name": "images",
          "slot_index": 0
        },
        {
          "name": "audio",
          "type": "AUDIO",
          "localized_name": "audio",
          "shape": 7,
          "slot_index": 1
        },
        {
          "name": "meta_batch",
          "type": "VHS_BatchManager",
          "localized_name": "meta_batch",
          "shape": 7,
          "slot_index": 2
        },
        {
          "name": "vae",
          "type": "VAE",
          "localized_name": "vae",
          "shape": 7,
          "slot_index": 3
        },
        {
          "name": "frame_rate",
          "type": "FLOAT",
          "link": 298,
          "localized_name": "frame_rate",
          "widget": {
            "name": "frame_rate"
          },
          "slot_index": 4
        },
        {
          "name": "loop_count",
          "type": "INT",
          "localized_name": "loop_count",
          "widget": {
            "name": "loop_count"
          },
          "slot_index": 5
        },
        {
          "name": "filename_prefix",
          "type": "STRING",
          "localized_name": "filename_prefix",
          "widget": {
            "name": "filename_prefix"
          },
          "slot_index": 6
        },
        {
          "name": "format",
          "type": "COMBO",
          "localized_name": "format",
          "widget": {
            "name": "format"
          },
          "slot_index": 7
        },
        {
          "name": "pingpong",
          "type": "BOOLEAN",
          "localized_name": "pingpong",
          "widget": {
            "name": "pingpong"
          },
          "slot_index": 8
        },
        {
          "name": "save_output",
          "type": "BOOLEAN",
          "localized_name": "save_output",
          "widget": {
            "name": "save_output"
          },
          "slot_index": 9
        },
        {
          "name": "pix_fmt",
          "type": [
            "yuv420p",
            "yuv420p10le"
          ],
          "widget": {
            "name": "pix_fmt"
          },
          "slot_index": 10
        },
        {
          "name": "crf",
          "type": "INT",
          "widget": {
            "name": "crf"
          },
          "slot_index": 11
        },
        {
          "name": "save_metadata",
          "type": "BOOLEAN",
          "widget": {
            "name": "save_metadata"
          },
          "slot_index": 12
        },
        {
          "name": "trim_to_audio",
          "type": "BOOLEAN",
          "widget": {
            "name": "trim_to_audio"
          },
          "slot_index": 13
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "localized_name": "Filenames",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine",
        "cnr_id": "comfyui-videohelpersuite",
        "aux_id": "Kosinkadink/ComfyUI-VideoHelperSuite",
        "ver": "a7ce59e381934733bfae03b1be029756d6ce936d",
        "ttNbgOverride": {
          "color": "#2a363b",
          "bgcolor": "#3f5159",
          "groupcolor": "#3f789e"
        }
      },
      "flags": {},
      "pos": [
        -1220.3463134765625,
        -318.96697998046875
      ],
      "size": [
        399.3619384765625,
        618.9728131975446
      ],
      "order": 56,
      "mode": 0,
      "title": "Original",
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 67,
      "type": "VHS_VideoCombine",
      "widgets_values": {
        "frame_rate": 48,
        "loop_count": 0,
        "filename_prefix": "Depthflow/output",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 11,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": false,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "output_00002.mp4",
            "subfolder": "Depthflow",
            "type": "temp",
            "format": "video/h264-mp4",
            "frame_rate": 30,
            "workflow": "output_00002.png",
            "fullpath": "/home/akatzfey/projects/comfydock/comfydock/.comfydock_workspace/environments/df-inpaint-test/ComfyUI/temp/Depthflow/output_00002.mp4"
          },
          "muted": false
        }
      },
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 74,
          "localized_name": "images",
          "slot_index": 0
        },
        {
          "name": "audio",
          "type": "AUDIO",
          "localized_name": "audio",
          "shape": 7,
          "slot_index": 1
        },
        {
          "name": "meta_batch",
          "type": "VHS_BatchManager",
          "localized_name": "meta_batch",
          "shape": 7,
          "slot_index": 2
        },
        {
          "name": "vae",
          "type": "VAE",
          "localized_name": "vae",
          "shape": 7,
          "slot_index": 3
        },
        {
          "name": "frame_rate",
          "type": "FLOAT",
          "link": 73,
          "localized_name": "frame_rate",
          "widget": {
            "name": "frame_rate"
          },
          "slot_index": 4
        },
        {
          "name": "loop_count",
          "type": "INT",
          "localized_name": "loop_count",
          "widget": {
            "name": "loop_count"
          },
          "slot_index": 5
        },
        {
          "name": "filename_prefix",
          "type": "STRING",
          "localized_name": "filename_prefix",
          "widget": {
            "name": "filename_prefix"
          },
          "slot_index": 6
        },
        {
          "name": "format",
          "type": "COMBO",
          "localized_name": "format",
          "widget": {
            "name": "format"
          },
          "slot_index": 7
        },
        {
          "name": "pingpong",
          "type": "BOOLEAN",
          "localized_name": "pingpong",
          "widget": {
            "name": "pingpong"
          },
          "slot_index": 8
        },
        {
          "name": "save_output",
          "type": "BOOLEAN",
          "localized_name": "save_output",
          "widget": {
            "name": "save_output"
          },
          "slot_index": 9
        },
        {
          "name": "pix_fmt",
          "type": [
            "yuv420p",
            "yuv420p10le"
          ],
          "widget": {
            "name": "pix_fmt"
          },
          "slot_index": 10
        },
        {
          "name": "crf",
          "type": "INT",
          "widget": {
            "name": "crf"
          },
          "slot_index": 11
        },
        {
          "name": "save_metadata",
          "type": "BOOLEAN",
          "widget": {
            "name": "save_metadata"
          },
          "slot_index": 12
        },
        {
          "name": "trim_to_audio",
          "type": "BOOLEAN",
          "widget": {
            "name": "trim_to_audio"
          },
          "slot_index": 13
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "localized_name": "Filenames",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine",
        "cnr_id": "comfyui-videohelpersuite",
        "aux_id": "Kosinkadink/ComfyUI-VideoHelperSuite",
        "ver": "a7ce59e381934733bfae03b1be029756d6ce936d",
        "ttNbgOverride": {
          "color": "#2a363b",
          "bgcolor": "#3f5159",
          "groupcolor": "#3f789e"
        }
      },
      "flags": {},
      "pos": [
        -384.0725402832031,
        -316.305419921875
      ],
      "size": [
        392.80694580078125,
        614.2906755719866
      ],
      "order": 54,
      "mode": 0,
      "title": "Mask Animation",
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 29,
      "type": "WanVaceToVideo",
      "widgets_values": [
        768,
        768,
        13,
        1,
        1.0000000000000002
      ],
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 21,
          "localized_name": "positive",
          "slot_index": 0
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 22,
          "localized_name": "negative",
          "slot_index": 1
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 23,
          "localized_name": "vae",
          "slot_index": 2
        },
        {
          "name": "control_video",
          "type": "IMAGE",
          "link": 232,
          "localized_name": "control_video",
          "shape": 7,
          "slot_index": 3
        },
        {
          "name": "control_masks",
          "type": "MASK",
          "link": 225,
          "localized_name": "control_masks",
          "shape": 7,
          "slot_index": 4
        },
        {
          "name": "reference_image",
          "type": "IMAGE",
          "link": 309,
          "localized_name": "reference_image",
          "shape": 7,
          "slot_index": 5
        },
        {
          "name": "width",
          "type": "INT",
          "link": 320,
          "localized_name": "width",
          "widget": {
            "name": "width"
          },
          "slot_index": 6
        },
        {
          "name": "height",
          "type": "INT",
          "link": 321,
          "localized_name": "height",
          "widget": {
            "name": "height"
          },
          "slot_index": 7
        },
        {
          "name": "length",
          "type": "INT",
          "link": 117,
          "localized_name": "length",
          "widget": {
            "name": "length"
          },
          "slot_index": 8
        },
        {
          "name": "batch_size",
          "type": "INT",
          "localized_name": "batch_size",
          "widget": {
            "name": "batch_size"
          },
          "slot_index": 9
        },
        {
          "name": "strength",
          "type": "FLOAT",
          "localized_name": "strength",
          "widget": {
            "name": "strength"
          },
          "slot_index": 10
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            37
          ],
          "localized_name": "positive",
          "slot_index": 0
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            38
          ],
          "localized_name": "negative",
          "slot_index": 1
        },
        {
          "name": "latent",
          "type": "LATENT",
          "links": [
            39
          ],
          "localized_name": "latent",
          "slot_index": 2
        },
        {
          "name": "trim_latent",
          "type": "INT",
          "links": [
            2
          ],
          "localized_name": "trim_latent",
          "slot_index": 3
        }
      ],
      "properties": {
        "Node name for S&R": "WanVaceToVideo",
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "widget_ue_connectable": {
          "width": true,
          "height": true,
          "length": true
        }
      },
      "flags": {},
      "pos": [
        1905.50390625,
        309.2476806640625
      ],
      "size": [
        315.0,
        254.0
      ],
      "order": 58,
      "mode": 0
    },
    {
      "id": 65,
      "type": "VHS_VideoCombine",
      "widgets_values": {
        "frame_rate": 48,
        "loop_count": 0,
        "filename_prefix": "Depthflow/output",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 11,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": false,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "output_00001.mp4",
            "subfolder": "Depthflow",
            "type": "temp",
            "format": "video/h264-mp4",
            "frame_rate": 30,
            "workflow": "output_00001.png",
            "fullpath": "/home/akatzfey/projects/comfydock/comfydock/.comfydock_workspace/environments/df-inpaint-test/ComfyUI/temp/Depthflow/output_00001.mp4"
          },
          "muted": false
        }
      },
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 65,
          "localized_name": "images",
          "slot_index": 0
        },
        {
          "name": "audio",
          "type": "AUDIO",
          "localized_name": "audio",
          "shape": 7,
          "slot_index": 1
        },
        {
          "name": "meta_batch",
          "type": "VHS_BatchManager",
          "localized_name": "meta_batch",
          "shape": 7,
          "slot_index": 2
        },
        {
          "name": "vae",
          "type": "VAE",
          "localized_name": "vae",
          "shape": 7,
          "slot_index": 3
        },
        {
          "name": "frame_rate",
          "type": "FLOAT",
          "link": 66,
          "localized_name": "frame_rate",
          "widget": {
            "name": "frame_rate"
          },
          "slot_index": 4
        },
        {
          "name": "loop_count",
          "type": "INT",
          "localized_name": "loop_count",
          "widget": {
            "name": "loop_count"
          },
          "slot_index": 5
        },
        {
          "name": "filename_prefix",
          "type": "STRING",
          "localized_name": "filename_prefix",
          "widget": {
            "name": "filename_prefix"
          },
          "slot_index": 6
        },
        {
          "name": "format",
          "type": "COMBO",
          "localized_name": "format",
          "widget": {
            "name": "format"
          },
          "slot_index": 7
        },
        {
          "name": "pingpong",
          "type": "BOOLEAN",
          "localized_name": "pingpong",
          "widget": {
            "name": "pingpong"
          },
          "slot_index": 8
        },
        {
          "name": "save_output",
          "type": "BOOLEAN",
          "localized_name": "save_output",
          "widget": {
            "name": "save_output"
          },
          "slot_index": 9
        },
        {
          "name": "pix_fmt",
          "type": [
            "yuv420p",
            "yuv420p10le"
          ],
          "widget": {
            "name": "pix_fmt"
          },
          "slot_index": 10
        },
        {
          "name": "crf",
          "type": "INT",
          "widget": {
            "name": "crf"
          },
          "slot_index": 11
        },
        {
          "name": "save_metadata",
          "type": "BOOLEAN",
          "widget": {
            "name": "save_metadata"
          },
          "slot_index": 12
        },
        {
          "name": "trim_to_audio",
          "type": "BOOLEAN",
          "widget": {
            "name": "trim_to_audio"
          },
          "slot_index": 13
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "localized_name": "Filenames",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine",
        "cnr_id": "comfyui-videohelpersuite",
        "aux_id": "Kosinkadink/ComfyUI-VideoHelperSuite",
        "ver": "a7ce59e381934733bfae03b1be029756d6ce936d",
        "ttNbgOverride": {
          "color": "#2a363b",
          "bgcolor": "#3f5159",
          "groupcolor": "#3f789e"
        }
      },
      "flags": {},
      "pos": [
        -803.2420043945312,
        -318.368896484375
      ],
      "size": [
        399.3619384765625,
        618.9728131975446
      ],
      "order": 52,
      "mode": 0,
      "title": "Animation w/ Overlay",
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 94,
      "type": "Any Switch (rgthree)",
      "widgets_values": [],
      "inputs": [
        {
          "name": "any_01",
          "type": "IMAGE",
          "link": 311,
          "slot_index": 0
        },
        {
          "name": "any_02",
          "type": "IMAGE",
          "link": 131,
          "slot_index": 1
        },
        {
          "name": "any_03",
          "type": "IMAGE",
          "slot_index": 2
        },
        {
          "name": "any_04",
          "type": "IMAGE",
          "slot_index": 3
        },
        {
          "name": "any_05",
          "type": "IMAGE",
          "slot_index": 4
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "IMAGE",
          "links": [
            309
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "cnr_id": "rgthree-comfy",
        "ver": "f754c4765849aa748abb35a1f030a5ed6474a69b"
      },
      "flags": {},
      "pos": [
        643.7369995117188,
        153.18161010742188
      ],
      "size": [
        250.08045959472656,
        106.0
      ],
      "order": 57,
      "mode": 0
    },
    {
      "id": 132,
      "type": "WanVideoImageResizeToClosest",
      "widgets_values": [
        512,
        512,
        "keep_input"
      ],
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 227,
          "localized_name": "image",
          "slot_index": 0
        },
        {
          "name": "generation_width",
          "type": "INT",
          "link": 283,
          "localized_name": "generation_width",
          "widget": {
            "name": "generation_width"
          },
          "slot_index": 1
        },
        {
          "name": "generation_height",
          "type": "INT",
          "link": 284,
          "localized_name": "generation_height",
          "widget": {
            "name": "generation_height"
          },
          "slot_index": 2
        },
        {
          "name": "aspect_ratio_preservation",
          "type": "COMBO",
          "localized_name": "aspect_ratio_preservation",
          "widget": {
            "name": "aspect_ratio_preservation"
          },
          "slot_index": 3
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            228
          ],
          "localized_name": "image",
          "slot_index": 0
        },
        {
          "name": "width",
          "type": "INT",
          "links": [
            285,
            312
          ],
          "localized_name": "width",
          "slot_index": 1
        },
        {
          "name": "height",
          "type": "INT",
          "links": [
            286,
            313
          ],
          "localized_name": "height",
          "slot_index": 2
        }
      ],
      "properties": {
        "Node name for S&R": "WanVideoImageResizeToClosest",
        "cnr_id": "comfyui-wanvideowrapper",
        "ver": "1.2.0"
      },
      "flags": {},
      "pos": [
        -2096.616943359375,
        32.78193664550781
      ],
      "size": [
        270.5785217285156,
        146.0
      ],
      "order": 29,
      "mode": 0
    },
    {
      "id": 174,
      "type": "Reroute",
      "widgets_values": [],
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 312,
          "widget": {
            "name": "value"
          },
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "INT",
          "links": [
            314
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      },
      "flags": {},
      "pos": [
        -1592.635986328125,
        -965.4640502929688
      ],
      "size": [
        75.0,
        26.0
      ],
      "order": 35,
      "mode": 0
    },
    {
      "id": 175,
      "type": "Reroute",
      "widgets_values": [],
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 313,
          "widget": {
            "name": "value"
          },
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "INT",
          "links": [
            315
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      },
      "flags": {},
      "pos": [
        -1590.5345458984375,
        -915.8615112304688
      ],
      "size": [
        75.0,
        26.0
      ],
      "order": 37,
      "mode": 0
    },
    {
      "id": 176,
      "type": "Reroute",
      "widgets_values": [],
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 314,
          "widget": {
            "name": "value"
          },
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "INT",
          "links": [
            316,
            318
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      },
      "flags": {},
      "pos": [
        310.73583984375,
        -948.69677734375
      ],
      "size": [
        75.0,
        26.0
      ],
      "order": 43,
      "mode": 0
    },
    {
      "id": 177,
      "type": "Reroute",
      "widgets_values": [],
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 315,
          "widget": {
            "name": "value"
          },
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "INT",
          "links": [
            317,
            319
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      },
      "flags": {},
      "pos": [
        311.5627136230469,
        -900.159912109375
      ],
      "size": [
        75.0,
        26.0
      ],
      "order": 44,
      "mode": 0
    },
    {
      "id": 178,
      "type": "Reroute",
      "widgets_values": [],
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 318,
          "widget": {
            "name": "value"
          },
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "INT",
          "links": [
            320
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      },
      "flags": {},
      "pos": [
        1595.08447265625,
        -943.4533081054688
      ],
      "size": [
        75.0,
        26.0
      ],
      "order": 49,
      "mode": 0
    },
    {
      "id": 179,
      "type": "Reroute",
      "widgets_values": [],
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 319,
          "widget": {
            "name": "value"
          },
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "INT",
          "links": [
            321
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      },
      "flags": {},
      "pos": [
        1593.1966552734375,
        -896.2578125
      ],
      "size": [
        75.0,
        26.0
      ],
      "order": 51,
      "mode": 0
    },
    {
      "id": 77,
      "type": "ImageToMask",
      "widgets_values": [
        "green"
      ],
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 237,
          "localized_name": "image",
          "slot_index": 0
        },
        {
          "name": "channel",
          "type": "COMBO",
          "localized_name": "channel",
          "widget": {
            "name": "channel"
          },
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            225
          ],
          "localized_name": "MASK",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageToMask",
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "widget_ue_connectable": {}
      },
      "flags": {},
      "pos": [
        172.85452270507812,
        441.857666015625
      ],
      "size": [
        240.0,
        60.0
      ],
      "order": 55,
      "mode": 0
    },
    {
      "id": 73,
      "type": "Reroute",
      "widgets_values": [],
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 82,
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            232
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      },
      "flags": {},
      "pos": [
        244.68833923339844,
        286.7817077636719
      ],
      "size": [
        75.0,
        26.0
      ],
      "order": 53,
      "mode": 0
    },
    {
      "id": 76,
      "type": "Reroute",
      "widgets_values": [],
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 181,
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            131
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      },
      "flags": {},
      "pos": [
        246.9133758544922,
        174.140869140625
      ],
      "size": [
        75.0,
        26.0
      ],
      "order": 42,
      "mode": 0
    },
    {
      "id": 15,
      "type": "MarkdownNote",
      "widgets_values": [
        "For best results: you can use inpainting/kontext to remove the main subject of the scene, and then provide the background image below.\n\nThis will give VACE more information about what should go behind your subject."
      ],
      "inputs": [],
      "outputs": [],
      "properties": {
        "widget_ue_connectable": {}
      },
      "flags": {},
      "pos": [
        619.779052734375,
        -497.4854431152344
      ],
      "size": [
        290.0,
        110.0
      ],
      "order": 10,
      "mode": 0,
      "title": "About reference image",
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 78,
      "type": "Image Resize (rgthree)",
      "widgets_values": [
        "pixels",
        1024,
        1024,
        "crop",
        "lanczos"
      ],
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 310,
          "localized_name": "image",
          "slot_index": 0
        },
        {
          "name": "measurement",
          "type": "COMBO",
          "localized_name": "measurement",
          "widget": {
            "name": "measurement"
          },
          "slot_index": 1
        },
        {
          "name": "width",
          "type": "INT",
          "link": 316,
          "localized_name": "width",
          "widget": {
            "name": "width"
          },
          "slot_index": 2
        },
        {
          "name": "height",
          "type": "INT",
          "link": 317,
          "localized_name": "height",
          "widget": {
            "name": "height"
          },
          "slot_index": 3
        },
        {
          "name": "fit",
          "type": "COMBO",
          "localized_name": "fit",
          "widget": {
            "name": "fit"
          },
          "slot_index": 4
        },
        {
          "name": "method",
          "type": "COMBO",
          "localized_name": "method",
          "widget": {
            "name": "method"
          },
          "slot_index": 5
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            311
          ],
          "localized_name": "IMAGE",
          "slot_index": 0
        },
        {
          "name": "WIDTH",
          "type": "INT",
          "links": [],
          "localized_name": "WIDTH",
          "slot_index": 1
        },
        {
          "name": "HEIGHT",
          "type": "INT",
          "links": [],
          "localized_name": "HEIGHT",
          "slot_index": 2
        }
      ],
      "properties": {
        "Node name for S&R": "Image Resize (rgthree)",
        "cnr_id": "rgthree-comfy",
        "aux_id": "rgthree/rgthree-comfy",
        "ver": "f754c4765849aa748abb35a1f030a5ed6474a69b"
      },
      "flags": {},
      "pos": [
        637.0782470703125,
        -286.08453369140625
      ],
      "size": [
        270.0,
        194.0
      ],
      "order": 50,
      "mode": 4,
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 183,
      "type": "Mute / Bypass Repeater (rgthree)",
      "widgets_values": [],
      "inputs": [
        {
          "name": "",
          "type": "*",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "OPT_CONNECTION",
          "type": "*",
          "links": [
            324
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "ttNbgOverride": {
          "color": "#2a363b",
          "bgcolor": "#3f5159",
          "groupcolor": "#3f789e"
        }
      },
      "flags": {
        "collapsed": true
      },
      "pos": [
        742.9024047851562,
        32.04620361328125
      ],
      "size": [
        152.0078125,
        26.0
      ],
      "order": 11,
      "mode": 4,
      "title": ".",
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 38,
      "type": "LoadImage",
      "widgets_values": [
        "ComfyUI_02467_.png",
        "image"
      ],
      "inputs": [
        {
          "name": "image",
          "type": "COMBO",
          "localized_name": "image",
          "widget": {
            "name": "image"
          },
          "slot_index": 0
        },
        {
          "name": "upload",
          "type": "IMAGEUPLOAD",
          "localized_name": "choose file to upload",
          "widget": {
            "name": "upload"
          },
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            310
          ],
          "localized_name": "IMAGE",
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "localized_name": "MASK",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage",
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "widget_ue_connectable": {}
      },
      "flags": {},
      "pos": [
        337.2532958984375,
        -283.51947021484375
      ],
      "size": [
        270.0,
        314.00006103515625
      ],
      "order": 12,
      "mode": 4
    },
    {
      "id": 185,
      "type": "Mute / Bypass Repeater (rgthree)",
      "widgets_values": [],
      "inputs": [
        {
          "name": "",
          "type": "*",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "OPT_CONNECTION",
          "type": "*",
          "links": [
            325
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "ttNbgOverride": {
          "color": "#2a363b",
          "bgcolor": "#3f5159",
          "groupcolor": "#3f789e"
        }
      },
      "flags": {
        "collapsed": true
      },
      "pos": [
        1460.0,
        -450.0
      ],
      "size": [
        152.0078125,
        26.0
      ],
      "order": 13,
      "mode": 0,
      "title": ".",
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 184,
      "type": "Fast Bypasser (rgthree)",
      "widgets_values": [],
      "inputs": [
        {
          "name": ".",
          "type": "*",
          "link": 324,
          "slot_index": 0
        },
        {
          "name": "",
          "type": "*",
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "OPT_CONNECTION",
          "type": "*",
          "slot_index": 0
        }
      ],
      "properties": {
        "toggleRestriction": "default",
        "ttNbgOverride": {
          "color": "#2a363b",
          "bgcolor": "#3f5159",
          "groupcolor": "#3f789e"
        }
      },
      "flags": {},
      "pos": [
        721.9920043945312,
        -26.02309799194336
      ],
      "size": [
        186.9478515625,
        78.0
      ],
      "order": 24,
      "mode": 4,
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 71,
      "type": "VHS_VideoCombine",
      "widgets_values": {
        "frame_rate": 48,
        "loop_count": 0,
        "filename_prefix": "Depthflow/output",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 11,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": false,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "output_00004.mp4",
            "subfolder": "Depthflow",
            "type": "temp",
            "format": "video/h264-mp4",
            "frame_rate": 30,
            "workflow": "output_00004.png",
            "fullpath": "/home/akatzfey/projects/comfydock/comfydock/.comfydock_workspace/environments/df-inpaint-test/ComfyUI/temp/Depthflow/output_00004.mp4"
          },
          "muted": false
        }
      },
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 81,
          "localized_name": "images",
          "slot_index": 0
        },
        {
          "name": "audio",
          "type": "AUDIO",
          "localized_name": "audio",
          "shape": 7,
          "slot_index": 1
        },
        {
          "name": "meta_batch",
          "type": "VHS_BatchManager",
          "localized_name": "meta_batch",
          "shape": 7,
          "slot_index": 2
        },
        {
          "name": "vae",
          "type": "VAE",
          "localized_name": "vae",
          "shape": 7,
          "slot_index": 3
        },
        {
          "name": "frame_rate",
          "type": "FLOAT",
          "link": 261,
          "localized_name": "frame_rate",
          "widget": {
            "name": "frame_rate"
          },
          "slot_index": 4
        },
        {
          "name": "loop_count",
          "type": "INT",
          "localized_name": "loop_count",
          "widget": {
            "name": "loop_count"
          },
          "slot_index": 5
        },
        {
          "name": "filename_prefix",
          "type": "STRING",
          "localized_name": "filename_prefix",
          "widget": {
            "name": "filename_prefix"
          },
          "slot_index": 6
        },
        {
          "name": "format",
          "type": "COMBO",
          "localized_name": "format",
          "widget": {
            "name": "format"
          },
          "slot_index": 7
        },
        {
          "name": "pingpong",
          "type": "BOOLEAN",
          "localized_name": "pingpong",
          "widget": {
            "name": "pingpong"
          },
          "slot_index": 8
        },
        {
          "name": "save_output",
          "type": "BOOLEAN",
          "localized_name": "save_output",
          "widget": {
            "name": "save_output"
          },
          "slot_index": 9
        },
        {
          "name": "pix_fmt",
          "type": [
            "yuv420p",
            "yuv420p10le"
          ],
          "widget": {
            "name": "pix_fmt"
          },
          "slot_index": 10
        },
        {
          "name": "crf",
          "type": "INT",
          "widget": {
            "name": "crf"
          },
          "slot_index": 11
        },
        {
          "name": "save_metadata",
          "type": "BOOLEAN",
          "widget": {
            "name": "save_metadata"
          },
          "slot_index": 12
        },
        {
          "name": "trim_to_audio",
          "type": "BOOLEAN",
          "widget": {
            "name": "trim_to_audio"
          },
          "slot_index": 13
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "localized_name": "Filenames",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine",
        "cnr_id": "comfyui-videohelpersuite",
        "aux_id": "Kosinkadink/ComfyUI-VideoHelperSuite",
        "ver": "a7ce59e381934733bfae03b1be029756d6ce936d",
        "ttNbgOverride": {
          "color": "#2a363b",
          "bgcolor": "#3f5159",
          "groupcolor": "#3f789e"
        }
      },
      "flags": {},
      "pos": [
        2661.5439453125,
        -359.1446228027344
      ],
      "size": [
        532.9441528320312,
        714.3886805943081
      ],
      "order": 62,
      "mode": 0,
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 26,
      "type": "CLIPLoader",
      "widgets_values": [
        "umt5_xxl_fp16.safetensors",
        "wan",
        "default"
      ],
      "inputs": [
        {
          "name": "clip_name",
          "type": "COMBO",
          "localized_name": "clip_name",
          "widget": {
            "name": "clip_name"
          },
          "slot_index": 0
        },
        {
          "name": "type",
          "type": "COMBO",
          "localized_name": "type",
          "widget": {
            "name": "type"
          },
          "slot_index": 1
        },
        {
          "name": "device",
          "type": "COMBO",
          "localized_name": "device",
          "widget": {
            "name": "device"
          },
          "shape": 7,
          "slot_index": 2
        }
      ],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            154,
            288,
            289
          ],
          "localized_name": "CLIP",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPLoader",
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "models": [
          {
            "name": "umt5_xxl_fp8_e4m3fn_scaled.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp8_e4m3fn_scaled.safetensors?download=true",
            "directory": "text_encoders"
          }
        ],
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65,
        "widget_ue_connectable": {}
      },
      "flags": {},
      "pos": [
        1004.0177612304688,
        510.637451171875
      ],
      "size": [
        360.0,
        106.0
      ],
      "order": 14,
      "mode": 0,
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 18,
      "type": "LoraLoader",
      "widgets_values": [
        "WAN/Wan21_CausVid_bidirect2_T2V_1_3B_lora_rank32.safetensors",
        0.7000000000000002,
        1
      ],
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 14,
          "localized_name": "model",
          "slot_index": 0
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 154,
          "localized_name": "clip",
          "slot_index": 1
        },
        {
          "name": "lora_name",
          "type": "COMBO",
          "localized_name": "lora_name",
          "widget": {
            "name": "lora_name"
          },
          "slot_index": 2
        },
        {
          "name": "strength_model",
          "type": "FLOAT",
          "localized_name": "strength_model",
          "widget": {
            "name": "strength_model"
          },
          "slot_index": 3
        },
        {
          "name": "strength_clip",
          "type": "FLOAT",
          "localized_name": "strength_clip",
          "widget": {
            "name": "strength_clip"
          },
          "slot_index": 4
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            153
          ],
          "localized_name": "MODEL",
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [],
          "localized_name": "CLIP",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "LoraLoader",
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "models": [
          {
            "name": "Wan21_CausVid_bidirect2_T2V_1_3B_lora_rank32.safetensors",
            "url": "https://huggingface.co/Kijai/WanVideo_comfy/resolve/main/Wan21_CausVid_bidirect2_T2V_1_3B_lora_rank32.safetensors",
            "directory": "loras"
          }
        ]
      },
      "flags": {},
      "pos": [
        1009.9775390625,
        341.3080749511719
      ],
      "size": [
        345.55206298828125,
        126.0
      ],
      "order": 26,
      "mode": 0,
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 14,
      "type": "MarkdownNote",
      "widgets_values": [
        "We have added CausVid LoRA by default to achieve acceleration. However, in some cases, the video may shake and become blurry. You might need to test different LoRA intensities to get the best results, which should be between 0.3 and 0.7. If you don't need it, you can use the bypass mode to disable it, and then restore the settings of `KSampler` to the default ones.\n\n\n\u6211\u4eec\u9ed8\u8ba4\u6dfb\u52a0\u4e86  CausVid LoRA \u6765\u5b9e\u73b0\u52a0\u901f\uff0c\u4f46\u6709\u4e9b\u60c5\u51b5\u4e0b\u4f1a\u51fa\u73b0\u89c6\u9891\u6296\u52a8\u548c\u6a21\u7cca\u7684\u60c5\u51b5\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u6d4b\u8bd5\u4e0d\u540c\u7684 LoRA \u5f3a\u5ea6\u6765\u83b7\u53d6\u6700\u597d\u7684\u7ed3\u679c\uff0c0.3\uff5e0.7 \u4e4b\u95f4\u3002\u5982\u679c\u4f60\u4e0d\u9700\u8981\u7684\u8bdd\uff0c\u53ef\u4ee5\u4f7f\u7528 bypass \u6a21\u5f0f\u7981\u7528\u5b83\uff0c\u7136\u540e\u6062\u590d `KSampler`\u7684\u8bbe\u7f6e\u5230\u9ed8\u8ba4\u7684\u8bbe\u7f6e\u5373\u53ef\u3002"
      ],
      "inputs": [],
      "outputs": [],
      "properties": {},
      "flags": {},
      "pos": [
        1429.6964111328125,
        -89.37342071533203
      ],
      "size": [
        410.0,
        140.0
      ],
      "order": 15,
      "mode": 0,
      "title": "About CausVid LoRA",
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 84,
      "type": "Reroute",
      "widgets_values": [],
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 104,
          "widget": {
            "name": "value"
          },
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "INT",
          "links": [
            117
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      },
      "flags": {},
      "pos": [
        1762.8284912109375,
        69.88059997558594
      ],
      "size": [
        75.0,
        26.0
      ],
      "order": 39,
      "mode": 0
    },
    {
      "id": 24,
      "type": "MarkdownNote",
      "widgets_values": [
        "[Tutorial](https://docs.comfy.org/tutorials/video/wan/vace) | [\u6559\u7a0b](https://docs.comfy.org/zh-CN/tutorials/video/wan/vace)\n\nNote: You can choose between 14B and 1.3B from the model sets below. I chose 1.3B for this workflow since it works faster with less VRAM for minimal quality loss.\n\n**diffusion_models** \n\n- [wan2.1_vace_14B_fp16.safetensors](https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/diffusion_models/wan2.1_vace_14B_fp16.safetensors)\n- [wan2.1_vace_1.3B_fp16.safetensors](https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/diffusion_models/wan2.1_vace_1.3B_fp16.safetensors)\n\n**LoRA** (Thanks to CausVid MIT & Kijai)\n\n- [Wan21_CausVid_14B_T2V_lora_rank32.safetensors](https://huggingface.co/Kijai/WanVideo_comfy/blob/main/Wan21_CausVid_14B_T2V_lora_rank32.safetensors)\n- [Wan21_CausVid_bidirect2_T2V_1_3B_lora_rank32.safetensors](https://huggingface.co/Kijai/WanVideo_comfy/blob/main/Wan21_CausVid_bidirect2_T2V_1_3B_lora_rank32.safetensors) \n \n\n**VAE**\n- [wan_2.1_vae.safetensors](https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/vae/wan_2.1_vae.safetensors?download=true)\n\n**Text encoders**   Chose one of following model\n- [umt5_xxl_fp16.safetensors](https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp16.safetensors?download=true)\n- [umt5_xxl_fp8_e4m3fn_scaled.safetensors](https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp8_e4m3fn_scaled.safetensors?download=true)\n\n> You can choose between fp16 of fp8; I used fp16 to match what kijai's wrapper is compatible with.\n\nFile save location\n\n```\nComfyUI/\n\u251c\u2500\u2500 models/\n\u2502   \u251c\u2500\u2500 diffusion_models/\n\u2502   \u2502   \u2514\u2500\u2500\u2500 wan2.1_vace_14B_fp16.safetensors\n\u2502   \u2502   \u2514\u2500\u2500\u2500 wan2.1_vace_1.3B_fp16.safetensors\n\u2502   \u251c\u2500\u2500 text_encoders/\n\u2502   \u2502   \u2514\u2500\u2500\u2500 umt5_xxl_fp8_e4m3fn_scaled.safetensors\n\u2502   \u2502   \u2514\u2500\u2500\u2500 umt5_xxl_fp16.safetensors\n\u2502   \u251c\u2500\u2500 loras/\n\u2502   \u2502   \u2514\u2500\u2500\u2500 Wan21_CausVid_14B_T2V_lora_rank32.safetensors\n\u2502   \u2514\u2500\u2500 vae/\n\u2502       \u2514\u2500\u2500  wan_2.1_vae.safetensors\n```\n"
      ],
      "inputs": [],
      "outputs": [],
      "properties": {
        "widget_ue_connectable": {}
      },
      "flags": {},
      "pos": [
        967.9496459960938,
        -449.1936950683594
      ],
      "size": [
        446.3146057128906,
        502.852783203125
      ],
      "order": 16,
      "mode": 0,
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 164,
      "type": "IntegerInput",
      "widgets_values": [
        480
      ],
      "inputs": [
        {
          "name": "value",
          "type": "INT",
          "localized_name": "value",
          "widget": {
            "name": "value"
          },
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            283,
            284
          ],
          "localized_name": "INT",
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "IntegerInput",
        "cnr_id": "comfyui-basic-math",
        "ver": "a79135d3b1c8089f0a2b8927f1cb98293a9fbabe"
      },
      "flags": {},
      "pos": [
        -2090.0,
        -80.0
      ],
      "size": [
        270.0,
        58.0
      ],
      "order": 17,
      "mode": 0,
      "title": "Max Dimension Size",
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 63,
      "type": "MarkdownNote",
      "widgets_values": [
        "# Depthflow Inpainting with VACE\n\nDepthflow README: [github repo](https://github.com/akatz-ai/ComfyUI-Depthflow-Nodes)\n\n---\n\n## Credits:\n\n[Workflow & Depthflow Nodes](https://github.com/akatz-ai/ComfyUI-Depthflow-Nodes): Akatz\n\n[Depthflow](https://github.com/BrokenSource/DepthFlow): Tremeschin\n\n\u2b50 If you found value in this workflow please consider supporting the creators! \u2b50\n\nAkatz [Patreon](https://patreon.com/Akatz?utm_medium=unknown&utm_source=join_link&utm_campaign=creatorshare_creator&utm_content=copyLink) [KoFi](https://ko-fi.com/akatz) [GitHub](https://github.com/sponsors/akatz-ai)\n\nTremeschin [GitHub](https://github.com/sponsors/Tremeschin) [Patreon](https://www.patreon.com/Tremeschin)\n\n--- \n\n## How to generate Depthflow Image Animation:\n\n\n#### 1. Upload an image in the \"Input Image\" group.\n\n#### 2. Set your desired video length in seconds\n\n#### 3. Adjust the Output FPS (if desired)\n\n#### 4. Set the \"Max Dimension Size\". Note that the width or height may end up larger than this number to satisfy the closest viable WAN resolution.\n\n#### 5. You can mix/match different \"Depthflow Motion\" group nodes to achieve various motion effects. See the [Depthflow Showcase](https://github.com/akatz-ai/ComfyUI-Depthflow-Nodes/tree/main/example_workflows) example workflow to get an idea of the various effects. You can adjust the intensity values to get stronger motion.\n\n#### 6. (Optional) Tweak the \"edge_fix\" values if there is artifacting around the edges of objects.\n\n#### 7. Generate\n\n---\n\n\n## How to Inpaint with VACE:\n\n#### 1. Un-bypass the VACE Wan2.1 Inpainting group\n\n#### 2. (Optional) Un-bypass the \"reference image\" group and upload a reference image with the main subject removed for best results.\n\n#### 3. Adjust the Prompts, LoRA strength, and step count if desired.\n\n#### 4. Generate\n\n---\n\n## Support Discord:\n\n[ComfyDock by Akatz](https://discord.gg/2h5rSTeh6Y)"
      ],
      "inputs": [],
      "outputs": [],
      "properties": {},
      "flags": {},
      "pos": [
        -3491.79296875,
        -128.80288696289062
      ],
      "size": [
        576.8676147460938,
        717.4005126953125
      ],
      "order": 18,
      "mode": 0,
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 186,
      "type": "Fast Bypasser (rgthree)",
      "widgets_values": [],
      "inputs": [
        {
          "name": ".",
          "type": "*",
          "link": 325,
          "slot_index": 0
        },
        {
          "name": "",
          "type": "*",
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "OPT_CONNECTION",
          "type": "*",
          "slot_index": 0
        }
      ],
      "properties": {
        "toggleRestriction": "default",
        "ttNbgOverride": {
          "color": "#2a363b",
          "bgcolor": "#3f5159",
          "groupcolor": "#3f789e"
        }
      },
      "flags": {},
      "pos": [
        1440.0,
        -510.0
      ],
      "size": [
        186.9478515625,
        78.0
      ],
      "order": 25,
      "mode": 0,
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 56,
      "type": "LoadImage",
      "widgets_values": [
        "250117013356_00050_.png",
        "image"
      ],
      "inputs": [
        {
          "name": "image",
          "type": "COMBO",
          "localized_name": "image",
          "widget": {
            "name": "image"
          },
          "slot_index": 0
        },
        {
          "name": "upload",
          "type": "IMAGEUPLOAD",
          "localized_name": "choose file to upload",
          "widget": {
            "name": "upload"
          },
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            227
          ],
          "localized_name": "IMAGE",
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "localized_name": "MASK",
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage",
        "cnr_id": "comfy-core",
        "ver": "0.3.42"
      },
      "flags": {},
      "pos": [
        -2860.0,
        -80.0
      ],
      "size": [
        315.0,
        314.0001220703125
      ],
      "order": 19,
      "mode": 0,
      "color": "#232",
      "bgcolor": "#353"
    }
  ],
  "links": [
    [
      1,
      37,
      0,
      1,
      0,
      "LATENT"
    ],
    [
      2,
      29,
      3,
      1,
      1,
      "INT"
    ],
    [
      3,
      1,
      0,
      2,
      0,
      "LATENT"
    ],
    [
      4,
      27,
      0,
      2,
      1,
      "VAE"
    ],
    [
      5,
      23,
      0,
      3,
      0,
      "MODEL"
    ],
    [
      14,
      23,
      0,
      18,
      0,
      "MODEL"
    ],
    [
      21,
      42,
      0,
      29,
      0,
      "CONDITIONING"
    ],
    [
      22,
      11,
      0,
      29,
      1,
      "CONDITIONING"
    ],
    [
      23,
      27,
      0,
      29,
      2,
      "VAE"
    ],
    [
      37,
      29,
      0,
      37,
      1,
      "CONDITIONING"
    ],
    [
      38,
      29,
      1,
      37,
      2,
      "CONDITIONING"
    ],
    [
      39,
      29,
      2,
      37,
      3,
      "LATENT"
    ],
    [
      43,
      51,
      0,
      44,
      0,
      "IMAGE"
    ],
    [
      47,
      46,
      0,
      49,
      0,
      "*"
    ],
    [
      48,
      43,
      0,
      51,
      0,
      "DAMODEL"
    ],
    [
      56,
      64,
      0,
      58,
      0,
      "INT,FLOAT"
    ],
    [
      57,
      46,
      0,
      58,
      1,
      "INT,FLOAT"
    ],
    [
      59,
      51,
      0,
      60,
      1,
      "IMAGE"
    ],
    [
      61,
      49,
      0,
      60,
      6,
      "FLOAT"
    ],
    [
      62,
      47,
      0,
      60,
      7,
      "INT"
    ],
    [
      65,
      60,
      0,
      65,
      0,
      "IMAGE"
    ],
    [
      66,
      49,
      0,
      65,
      4,
      "FLOAT"
    ],
    [
      68,
      51,
      0,
      66,
      1,
      "IMAGE"
    ],
    [
      70,
      49,
      0,
      66,
      6,
      "FLOAT"
    ],
    [
      71,
      47,
      0,
      66,
      7,
      "INT"
    ],
    [
      73,
      49,
      0,
      67,
      4,
      "FLOAT"
    ],
    [
      74,
      66,
      0,
      67,
      0,
      "IMAGE"
    ],
    [
      81,
      2,
      0,
      71,
      0,
      "IMAGE"
    ],
    [
      82,
      60,
      0,
      73,
      0,
      "*"
    ],
    [
      104,
      47,
      0,
      84,
      0,
      "*"
    ],
    [
      117,
      84,
      0,
      29,
      8,
      "INT"
    ],
    [
      120,
      47,
      0,
      89,
      0,
      "*"
    ],
    [
      126,
      93,
      0,
      60,
      2,
      "DEPTHFLOW_MOTION"
    ],
    [
      127,
      93,
      0,
      66,
      2,
      "DEPTHFLOW_MOTION"
    ],
    [
      131,
      76,
      0,
      94,
      1,
      "IMAGE"
    ],
    [
      136,
      99,
      0,
      66,
      3,
      "DEPTHFLOW_EFFECTS"
    ],
    [
      137,
      100,
      0,
      60,
      3,
      "DEPTHFLOW_EFFECTS"
    ],
    [
      153,
      18,
      0,
      37,
      0,
      "MODEL"
    ],
    [
      154,
      26,
      0,
      18,
      1,
      "CLIP"
    ],
    [
      171,
      116,
      0,
      51,
      1,
      "IMAGE"
    ],
    [
      172,
      116,
      0,
      60,
      0,
      "IMAGE"
    ],
    [
      173,
      116,
      0,
      66,
      0,
      "IMAGE"
    ],
    [
      181,
      116,
      0,
      76,
      0,
      "*"
    ],
    [
      184,
      121,
      0,
      122,
      1,
      "DEPTHFLOW_MOTION"
    ],
    [
      185,
      122,
      0,
      123,
      1,
      "DEPTHFLOW_MOTION"
    ],
    [
      186,
      123,
      0,
      93,
      0,
      "*"
    ],
    [
      207,
      49,
      0,
      60,
      5,
      "FLOAT"
    ],
    [
      208,
      49,
      0,
      66,
      5,
      "FLOAT"
    ],
    [
      209,
      58,
      0,
      47,
      0,
      "*"
    ],
    [
      225,
      77,
      0,
      29,
      4,
      "MASK"
    ],
    [
      227,
      56,
      0,
      132,
      0,
      "IMAGE"
    ],
    [
      228,
      132,
      0,
      116,
      0,
      "*"
    ],
    [
      232,
      73,
      0,
      29,
      3,
      "IMAGE"
    ],
    [
      237,
      66,
      0,
      77,
      0,
      "IMAGE"
    ],
    [
      242,
      49,
      0,
      136,
      0,
      "*"
    ],
    [
      261,
      136,
      0,
      71,
      4,
      "FLOAT"
    ],
    [
      283,
      164,
      0,
      132,
      1,
      "INT"
    ],
    [
      284,
      164,
      0,
      132,
      2,
      "INT"
    ],
    [
      285,
      132,
      1,
      165,
      0,
      "*"
    ],
    [
      286,
      132,
      2,
      166,
      0,
      "*"
    ],
    [
      288,
      26,
      0,
      42,
      0,
      "CLIP"
    ],
    [
      289,
      26,
      0,
      11,
      0,
      "CLIP"
    ],
    [
      290,
      116,
      0,
      169,
      0,
      "IMAGE"
    ],
    [
      291,
      51,
      0,
      169,
      1,
      "IMAGE"
    ],
    [
      292,
      93,
      0,
      169,
      2,
      "DEPTHFLOW_MOTION"
    ],
    [
      294,
      49,
      0,
      169,
      5,
      "FLOAT"
    ],
    [
      295,
      49,
      0,
      169,
      6,
      "FLOAT"
    ],
    [
      296,
      47,
      0,
      169,
      7,
      "INT"
    ],
    [
      297,
      169,
      0,
      170,
      0,
      "IMAGE"
    ],
    [
      298,
      49,
      0,
      170,
      4,
      "FLOAT"
    ],
    [
      309,
      94,
      0,
      29,
      5,
      "IMAGE"
    ],
    [
      310,
      38,
      0,
      78,
      0,
      "IMAGE"
    ],
    [
      311,
      78,
      0,
      94,
      0,
      "IMAGE"
    ],
    [
      312,
      132,
      1,
      174,
      0,
      "*"
    ],
    [
      313,
      132,
      2,
      175,
      0,
      "*"
    ],
    [
      314,
      174,
      0,
      176,
      0,
      "*"
    ],
    [
      315,
      175,
      0,
      177,
      0,
      "*"
    ],
    [
      316,
      176,
      0,
      78,
      2,
      "INT"
    ],
    [
      317,
      177,
      0,
      78,
      3,
      "INT"
    ],
    [
      318,
      176,
      0,
      178,
      0,
      "*"
    ],
    [
      319,
      177,
      0,
      179,
      0,
      "*"
    ],
    [
      320,
      178,
      0,
      29,
      6,
      "INT"
    ],
    [
      321,
      179,
      0,
      29,
      7,
      "INT"
    ],
    [
      324,
      183,
      0,
      184,
      0,
      "*"
    ],
    [
      325,
      185,
      0,
      186,
      0,
      "*"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "Step1 - Load models here",
      "bounding": [
        963.1590576171875,
        112.54623413085938,
        430,
        620
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 2,
      "title": "Prompt",
      "bounding": [
        1413.15869140625,
        112.54623413085938,
        450,
        620
      ],
      "color": "#8A8",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "Sampling & Decoding",
      "bounding": [
        1883.15869140625,
        112.54623413085938,
        720,
        620
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 4,
      "title": "Save Video(Mp4)",
      "bounding": [
        2648.423828125,
        -434.304931640625,
        914.8999633789062,
        1169.206298828125
      ],
      "color": "#A88",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 7,
      "title": "(Optional) reference image",
      "bounding": [
        312.8387451171875,
        -367.89910888671875,
        609.0424194335938,
        432.7872619628906
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 12,
      "title": "1.3B",
      "bounding": [
        969.1668701171875,
        151.5511016845703,
        417.0398864746094,
        318.55859375
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 15,
      "title": "Depth map",
      "bounding": [
        -2520,
        360,
        710.598388671875,
        322.0609130859375
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 16,
      "title": "Input Image",
      "bounding": [
        -2890,
        -160,
        709.0298461914062,
        512.8121337890625
      ],
      "color": "#8A8",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 17,
      "title": "Animation w/ Overlay",
      "bounding": [
        -1610,
        -410,
        349.5473327636719,
        727.88330078125
      ],
      "color": "#a1309b",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 18,
      "title": "Image Scale",
      "bounding": [
        -2170,
        -160,
        439.5560302734375,
        514.0440063476562
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 19,
      "title": "Output",
      "bounding": [
        -1238.2508544921875,
        -402.12152099609375,
        1291.4290771484375,
        1030.4884033203125
      ],
      "color": "#A88",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 22,
      "title": "Output FPS",
      "bounding": [
        -2890,
        -310,
        290,
        141.60000610351562
      ],
      "color": "#8A8",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 23,
      "title": "Depthflow Motion",
      "bounding": [
        -2790,
        700,
        984.2032470703125,
        402.1482849121094
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 24,
      "title": "Mask Animation",
      "bounding": [
        -1610,
        340,
        348.1099853515625,
        742.37109375
      ],
      "color": "#a1309b",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 25,
      "title": "Original",
      "bounding": [
        -1600,
        -840,
        335,
        393.6000061035156
      ],
      "color": "#a1309b",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 26,
      "title": "VACE Wan2.1 Inpainting",
      "bounding": [
        953.1590576171875,
        -586.2894897460938,
        2620.164306640625,
        1331.1904296875
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.4377859924930729,
      "offset": [
        2231.611916642267,
        892.3350461490502
      ]
    },
    "frontendVersion": "1.23.4",
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}